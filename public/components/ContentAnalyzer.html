<!-- ğŸ“ public/components/ContentAnalyzer.html -->
<!-- Create at 2504292305 Ver1.18 -->

<div class="main-container">
  <div class="title-container">
      <h1>ì½˜í…ì¸  ìƒì„¸ë¶„ì„ê¸°</h1>
  </div>
  
  <div class="form-card">
      <div class="input-row">
          <label class="form-label input-label">ë¶„ì„í•  ëŒ€ìƒ</label>
          <input
              type="text"
              id="inputValue"
              class="form-input"
              placeholder="ë¶„ì„í•˜ì‹¤ YouTube URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
              onkeydown="if(event.key === 'Enter') { event.preventDefault(); startAnalysis(); }"
          />
          <button id="analyzeBtn" class="btn btn-primary" onclick="startAnalysis()">
              ë¶„ì„ ì‹œì‘
          </button>
      </div>
      <div id="errorMessage" class="error-message" style="display: none; color: var(--danger); margin-top: 8px; font-size: 14px; text-align: center;"></div>
  </div>

  <div id="resultsContainer" class="card results-container" style="display: none;">
      <div class="card-header">
          <h2 id="videoTitle" class="card-title">ë¹„ë””ì˜¤ ì œëª©</h2>
          <a id="videoUrl" href="#" target="_blank" class="link">ì›ë³¸ URL ë³´ê¸°</a>
      </div>

      <div class="captions-container" style="margin-top: 20px; max-height: 500px; overflow-y: auto; padding: 20px; background-color: var(--bg-secondary); border-radius: var(--radius-md);">
          <pre id="captionsOutput" class="captions-text" style="white-space: pre-wrap; font-family: 'Noto Sans KR', sans-serif; line-height: 1.6;"></pre>
      </div>
  </div>
</div>

<style>
/* ë¡œë”© ìŠ¤í”¼ë„ˆ ìŠ¤íƒ€ì¼ */
.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(0, 123, 255, 0.2);
    border-radius: 50%;
    border-top-color: var(--primary);
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.results-container {
    animation: slideUp 0.5s ease-out;
}
</style>

<script>
// í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰ - ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ì¶”ê°€ í™•ì¸ìš©
window.onload = function() {
    console.log('í˜ì´ì§€ ì™„ì „íˆ ë¡œë“œë¨ - window.onload');
    
    // ì—”í„° í‚¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¤‘ë³µ ë“±ë¡ (í˜¹ì‹œ ì¸ë¼ì¸ ì´ë²¤íŠ¸ê°€ ì‘ë™í•˜ì§€ ì•Šì„ ê²½ìš° ëŒ€ë¹„)
    const inputElement = document.getElementById('inputValue');
    if (inputElement) {
        console.log('ì…ë ¥ í•„ë“œ ì°¸ì¡° ì„±ê³µ');
        inputElement.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                console.log('Enter í‚¤ ê°ì§€ë¨ (addEventListener)');
                e.preventDefault();
                startAnalysis();
            }
        });
        
        inputElement.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                console.log('Enter í‚¤ ê°ì§€ë¨ (keydown)');
                e.preventDefault();
                startAnalysis();
            }
        });
        
        console.log('ì…ë ¥ í•„ë“œì— í‚¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ì™„ë£Œ');
    } else {
        console.error('ì…ë ¥ í•„ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
    }
};

</script>
<script src="/js/contentAnalyzer.js"></script>